<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Лабораторна робота №1 - Проектування бази даних PostgreSQL</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 4px solid #3498db;
            padding-bottom: 15px;
            margin-bottom: 30px;
            font-size: 2em;
        }
        h2 {
            color: #34495e;
            margin-top: 40px;
            margin-bottom: 20px;
            border-left: 5px solid #3498db;
            padding-left: 15px;
            font-size: 1.5em;
        }
        h3 {
            color: #555;
            margin-top: 25px;
            margin-bottom: 15px;
            font-size: 1.2em;
        }
        .info-box {
            background-color: #e8f4f8;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .info-box strong {
            color: #2c3e50;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        th {
            background-color: #3498db;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: bold;
        }
        td {
            padding: 10px;
            border-bottom: 1px solid #ddd;
        }
        tr:hover {
            background-color: #f5f5f5;
        }
        .code-block {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.5;
        }
        .diagram-placeholder {
            background-color: #ecf0f1;
            border: 2px dashed #95a5a6;
            padding: 40px;
            text-align: center;
            margin: 20px 0;
            border-radius: 5px;
            color: #7f8c8d;
        }
        .step {
            background-color: #fff;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #27ae60;
            border-radius: 5px;
        }
        .step-number {
            display: inline-block;
            background-color: #27ae60;
            color: white;
            padding: 5px 10px;
            border-radius: 3px;
            font-weight: bold;
            margin-right: 10px;
        }
        .normalization-box {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        .warning-box {
            background-color: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        .success-box {
            background-color: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        ul, ol {
            margin-left: 30px;
            margin-top: 10px;
        }
        li {
            margin: 8px 0;
        }
        .entity-list {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        .entity-item {
            margin: 10px 0;
            padding: 10px;
            background-color: white;
            border-left: 3px solid #3498db;
        }
        .attribute-list {
            margin-left: 20px;
            margin-top: 5px;
            color: #555;
            font-size: 0.95em;
        }
        .link-description {
            background-color: #e7f3ff;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            border-left: 3px solid #2196F3;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Лабораторна робота №1</h1>
        <h1 style="font-size: 1.3em; border-bottom: 2px solid #3498db; margin-top: -20px;">Проектування бази даних та ознайомлення з базовими операціями СУБД PostgreSQL</h1>
        
        <div class="info-box">
            <strong>Варіант:</strong> Система управління складом та логістикою для інтернет-магазину електроніки<br>
            <strong>Репозиторій Github:</strong> <a href="https://github.com/student/db-lab1" target="_blank">https://github.com/student/db-lab1</a><br>
            <strong>Контакт в Telegram:</strong> @student_telegram
        </div>

        <h2>1. Розробка моделі «сутність-зв'язок»</h2>
        
        <h3>1.1. Опис предметної галузі</h3>
        <p>Предметна галузь: <strong>Система управління складом та логістикою для інтернет-магазину електроніки</strong></p>
        <p>Система призначена для управління товарами, замовленнями, постачальниками та складами інтернет-магазину, що спеціалізується на продажу електронної техніки. Система дозволяє відстежувати наявність товарів на складах, обробляти замовлення клієнтів, управляти взаємодією з постачальниками та контролювати логістичні процеси.</p>

        <h3>1.2. Перелік сутностей з описом їх призначення</h3>
        <div class="entity-list">
            <div class="entity-item">
                <strong>1. Постачальники (Suppliers)</strong>
                <p>Призначення: Зберігає інформацію про компанії-постачальники, що поставляють товари до інтернет-магазину.</p>
                <div class="attribute-list">
                    <strong>Атрибути:</strong> ID постачальника, Назва компанії, Контактна особа, Телефон, Email, Адреса
                </div>
            </div>
            
            <div class="entity-item">
                <strong>2. Товари (Products)</strong>
                <p>Призначення: Зберігає інформацію про товари, що продаються в інтернет-магазині (ноутбуки, смартфони, планшети тощо).</p>
                <div class="attribute-list">
                    <strong>Атрибути:</strong> ID товару, Назва товару, Категорія, Ціна закупівлі, Ціна продажу, Опис
                </div>
            </div>
            
            <div class="entity-item">
                <strong>3. Замовлення (Orders)</strong>
                <p>Призначення: Зберігає інформацію про замовлення клієнтів на товари.</p>
                <div class="attribute-list">
                    <strong>Атрибути:</strong> ID замовлення, Дата замовлення, Статус замовлення, Загальна сума, ID клієнта
                </div>
            </div>
            
            <div class="entity-item">
                <strong>4. Клієнти (Customers)</strong>
                <p>Призначення: Зберігає інформацію про клієнтів інтернет-магазину.</p>
                <div class="attribute-list">
                    <strong>Атрибути:</strong> ID клієнта, ПІБ, Email, Телефон, Адреса доставки
                </div>
            </div>
            
            <div class="entity-item">
                <strong>5. Склади (Warehouses)</strong>
                <p>Призначення: Зберігає інформацію про складські приміщення, де зберігаються товари.</p>
                <div class="attribute-list">
                    <strong>Атрибути:</strong> ID складу, Назва складу, Адреса, Площа, Відповідальна особа
                </div>
            </div>
        </div>

        <h3>1.3. Зв'язки між сутностями</h3>
        <div class="link-description">
            <strong>1. Постачальники → Товари (1:N)</strong><br>
            Один постачальник може поставляти багато товарів, але кожен товар постачається одним постачальником.
        </div>
        
        <div class="link-description">
            <strong>2. Клієнти → Замовлення (1:N)</strong><br>
            Один клієнт може зробити багато замовлень, але кожне замовлення належить одному клієнту.
        </div>
        
        <div class="link-description">
            <strong>3. Замовлення ↔ Товари (N:M) з атрибутами</strong><br>
            Багато замовлень можуть містити багато товарів, і навпаки. Зв'язок має атрибути: Кількість товару в замовленні, Ціна товару на момент замовлення.
        </div>
        
        <div class="link-description">
            <strong>4. Склади ↔ Товари (N:M) з атрибутами</strong><br>
            Багато складів можуть зберігати багато товарів, і навпаки. Зв'язок має атрибут: Кількість товару на складі.
        </div>

        <h3>1.4. ER-діаграма</h3>
        <p><strong>Нотація:</strong> Crow's Foot (Пташина лапка)</p>
        <div class="diagram-placeholder">
            <p><strong>ER-діаграма моделі "сутність-зв'язок"</strong></p>
            <p>Файл: <code>er_diagram.drawio</code></p>
            <p style="margin-top: 20px; color: #555;">Діаграма створена у draw.io та збережена у файлі er_diagram.drawio</p>
            <p style="color: #555;">Діаграма включає:</p>
            <ul style="text-align: left; display: inline-block; margin-top: 10px;">
                <li>5 сутностей: Постачальники, Товари, Замовлення, Клієнти, Склади</li>
                <li>Зв'язок 1:N між Постачальниками та Товарами</li>
                <li>Зв'язок 1:N між Клієнтами та Замовленнями</li>
                <li>Зв'язок N:M між Замовленнями та Товарами (з атрибутами: кількість, ціна)</li>
                <li>Зв'язок N:M між Складами та Товарами (з атрибутом: кількість на складі)</li>
            </ul>
        </div>

        <h2>2. Перетворення ER-моделі у схему бази даних PostgreSQL</h2>
        
        <h3>2.1. Опис процесу перетворення</h3>
        <div class="step">
            <span class="step-number">1</span>
            <strong>Сутність "Постачальники"</strong> перетворена у таблицю <code>suppliers</code> з первинним ключем <code>supplier_id</code>.
        </div>
        
        <div class="step">
            <span class="step-number">2</span>
            <strong>Сутність "Товари"</strong> перетворена у таблицю <code>products</code> з первинним ключем <code>product_id</code>. Додано зовнішній ключ <code>supplier_id</code> для зв'язку з таблицею <code>suppliers</code> (зв'язок 1:N).
        </div>
        
        <div class="step">
            <span class="step-number">3</span>
            <strong>Сутність "Клієнти"</strong> перетворена у таблицю <code>customers</code> з первинним ключем <code>customer_id</code>.
        </div>
        
        <div class="step">
            <span class="step-number">4</span>
            <strong>Сутність "Замовлення"</strong> перетворена у таблицю <code>orders</code> з первинним ключем <code>order_id</code>. Додано зовнішній ключ <code>customer_id</code> для зв'язку з таблицею <code>customers</code> (зв'язок 1:N).
        </div>
        
        <div class="step">
            <span class="step-number">5</span>
            <strong>Сутність "Склади"</strong> перетворена у таблицю <code>warehouses</code> з первинним ключем <code>warehouse_id</code>.
        </div>
        
        <div class="step">
            <span class="step-number">6</span>
            <strong>Зв'язок N:M між "Замовлення" та "Товари"</strong> зумовив появу додаткової таблиці <code>order_items</code> з композитним первинним ключем (<code>order_id</code>, <code>product_id</code>). Атрибути зв'язку (кількість, ціна) стали стовпцями цієї таблиці. Додано зовнішні ключі до таблиць <code>orders</code> та <code>products</code>.
        </div>
        
        <div class="step">
            <span class="step-number">7</span>
            <strong>Зв'язок N:M між "Склади" та "Товари"</strong> зумовив появу додаткової таблиці <code>warehouse_stock</code> з композитним первинним ключем (<code>warehouse_id</code>, <code>product_id</code>). Атрибут зв'язку (кількість на складі) став стовпцем <code>quantity</code>. Додано зовнішні ключі до таблиць <code>warehouses</code> та <code>products</code>.
        </div>

        <h3>2.2. Схема бази даних у графічному вигляді</h3>
        <div class="diagram-placeholder">
            <p><strong>Діаграма схеми бази даних PostgreSQL</strong></p>
            <p>Файл: <code>database_schema.drawio</code></p>
            <p style="margin-top: 20px; color: #555;">Діаграма включає:</p>
            <ul style="text-align: left; display: inline-block; margin-top: 10px;">
                <li>7 таблиць з назвами та типами даних</li>
                <li>Первинні ключі (позначені як PK)</li>
                <li>Зовнішні ключі (позначені як FK)</li>
                <li>Обмеження NOT NULL та UNIQUE</li>
                <li>Зв'язки між таблицями</li>
            </ul>
        </div>

        <h3>2.3. SQL-скрипт створення таблиць</h3>
        <div class="code-block">
-- Створення бази даних
CREATE DATABASE electronics_store;

-- Підключення до бази даних
\c electronics_store;

-- Таблиця Постачальники
CREATE TABLE suppliers (
    supplier_id SERIAL PRIMARY KEY,
    company_name VARCHAR(100) NOT NULL,
    contact_person VARCHAR(100),
    phone VARCHAR(20) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    address TEXT
);

-- Таблиця Клієнти
CREATE TABLE customers (
    customer_id SERIAL PRIMARY KEY,
    full_name VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    phone VARCHAR(20) NOT NULL,
    delivery_address TEXT NOT NULL
);

-- Таблиця Склади
CREATE TABLE warehouses (
    warehouse_id SERIAL PRIMARY KEY,
    warehouse_name VARCHAR(100) NOT NULL UNIQUE,
    address TEXT NOT NULL,
    area_sqm DECIMAL(10,2),
    responsible_person VARCHAR(100)
);

-- Таблиця Товари
CREATE TABLE products (
    product_id SERIAL PRIMARY KEY,
    product_name VARCHAR(200) NOT NULL,
    category VARCHAR(50) NOT NULL,
    purchase_price DECIMAL(10,2) NOT NULL,
    selling_price DECIMAL(10,2) NOT NULL,
    description TEXT,
    supplier_id INTEGER NOT NULL,
    CONSTRAINT fk_supplier FOREIGN KEY (supplier_id) 
        REFERENCES suppliers(supplier_id) ON DELETE RESTRICT
);

-- Таблиця Замовлення
CREATE TABLE orders (
    order_id SERIAL PRIMARY KEY,
    order_date DATE NOT NULL DEFAULT CURRENT_DATE,
    status VARCHAR(20) NOT NULL DEFAULT 'pending',
    total_amount DECIMAL(10,2) NOT NULL,
    customer_id INTEGER NOT NULL,
    CONSTRAINT fk_customer FOREIGN KEY (customer_id) 
        REFERENCES customers(customer_id) ON DELETE RESTRICT,
    CONSTRAINT chk_status CHECK (status IN ('pending', 'processing', 'shipped', 'delivered', 'cancelled'))
);

-- Таблиця Позиції замовлення (зв'язок N:M між Замовленнями та Товарами)
CREATE TABLE order_items (
    order_id INTEGER NOT NULL,
    product_id INTEGER NOT NULL,
    quantity INTEGER NOT NULL CHECK (quantity > 0),
    unit_price DECIMAL(10,2) NOT NULL,
    PRIMARY KEY (order_id, product_id),
    CONSTRAINT fk_order FOREIGN KEY (order_id) 
        REFERENCES orders(order_id) ON DELETE CASCADE,
    CONSTRAINT fk_product_order FOREIGN KEY (product_id) 
        REFERENCES products(product_id) ON DELETE RESTRICT
);

-- Таблиця Наявність товарів на складах (зв'язок N:M між Складами та Товарами)
CREATE TABLE warehouse_stock (
    warehouse_id INTEGER NOT NULL,
    product_id INTEGER NOT NULL,
    quantity INTEGER NOT NULL DEFAULT 0 CHECK (quantity >= 0),
    PRIMARY KEY (warehouse_id, product_id),
    CONSTRAINT fk_warehouse FOREIGN KEY (warehouse_id) 
        REFERENCES warehouses(warehouse_id) ON DELETE CASCADE,
    CONSTRAINT fk_product_stock FOREIGN KEY (product_id) 
        REFERENCES products(product_id) ON DELETE CASCADE
);

-- Створення індексів для покращення продуктивності
CREATE INDEX idx_products_supplier ON products(supplier_id);
CREATE INDEX idx_orders_customer ON orders(customer_id);
CREATE INDEX idx_orders_date ON orders(order_date);
CREATE INDEX idx_order_items_order ON order_items(order_id);
CREATE INDEX idx_order_items_product ON order_items(product_id);
CREATE INDEX idx_warehouse_stock_warehouse ON warehouse_stock(warehouse_id);
CREATE INDEX idx_warehouse_stock_product ON warehouse_stock(product_id);
        </div>

        <h2>3. Нормалізація схеми бази даних до третьої нормальної форми (3НФ)</h2>
        
        <h3>3.1. Перевірка відповідності Першій нормальній формі (1НФ)</h3>
        <div class="normalization-box">
            <strong>Вимога 1НФ:</strong> Всі атрибути таблиць повинні бути атомарними (нескладовими) та не містити повторюваних груп значень.
        </div>
        
        <p><strong>Аналіз:</strong></p>
        <ul>
            <li><strong>Таблиця suppliers:</strong> Всі атрибути атомарні. Немає повторюваних груп. ✓ Відповідає 1НФ</li>
            <li><strong>Таблиця customers:</strong> Всі атрибути атомарні. Немає повторюваних груп. ✓ Відповідає 1НФ</li>
            <li><strong>Таблиця warehouses:</strong> Всі атрибути атомарні. Немає повторюваних груп. ✓ Відповідає 1НФ</li>
            <li><strong>Таблиця products:</strong> Всі атрибути атомарні. Немає повторюваних груп. ✓ Відповідає 1НФ</li>
            <li><strong>Таблиця orders:</strong> Всі атрибути атомарні. Немає повторюваних груп. ✓ Відповідає 1НФ</li>
            <li><strong>Таблиця order_items:</strong> Всі атрибути атомарні. Немає повторюваних груп. ✓ Відповідає 1НФ</li>
            <li><strong>Таблиця warehouse_stock:</strong> Всі атрибути атомарні. Немає повторюваних груп. ✓ Відповідає 1НФ</li>
        </ul>
        
        <div class="success-box">
            <strong>Висновок:</strong> Всі таблиці відповідають Першій нормальній формі (1НФ).
        </div>

        <h3>3.2. Перевірка відповідності Другій нормальній формі (2НФ)</h3>
        <div class="normalization-box">
            <strong>Вимога 2НФ:</strong> Таблиця повинна бути в 1НФ, і всі неключові атрибути повинні повністю залежати від первинного ключа (не від частини ключа).
        </div>
        
        <p><strong>Аналіз функціональних залежностей:</strong></p>
        
        <p><strong>Таблиці з простими ключами:</strong></p>
        <ul>
            <li><strong>suppliers:</strong> supplier_id → company_name, contact_person, phone, email, address. Всі атрибути залежать від повного ключа. ✓ Відповідає 2НФ</li>
            <li><strong>customers:</strong> customer_id → full_name, email, phone, delivery_address. Всі атрибути залежать від повного ключа. ✓ Відповідає 2НФ</li>
            <li><strong>warehouses:</strong> warehouse_id → warehouse_name, address, area_sqm, responsible_person. Всі атрибути залежать від повного ключа. ✓ Відповідає 2НФ</li>
            <li><strong>products:</strong> product_id → product_name, category, purchase_price, selling_price, description, supplier_id. Всі атрибути залежать від повного ключа. ✓ Відповідає 2НФ</li>
            <li><strong>orders:</strong> order_id → order_date, status, total_amount, customer_id. Всі атрибути залежать від повного ключа. ✓ Відповідає 2НФ</li>
        </ul>
        
        <p><strong>Таблиці з композитними ключами:</strong></p>
        <ul>
            <li><strong>order_items:</strong> 
                <ul>
                    <li>PK: (order_id, product_id)</li>
                    <li>Функціональні залежності: (order_id, product_id) → quantity, unit_price</li>
                    <li>Аналіз: quantity та unit_price залежать від обох частин ключа (позиція товару в конкретному замовленні). Немає часткових залежностей. ✓ Відповідає 2НФ</li>
                </ul>
            </li>
            <li><strong>warehouse_stock:</strong>
                <ul>
                    <li>PK: (warehouse_id, product_id)</li>
                    <li>Функціональні залежності: (warehouse_id, product_id) → quantity</li>
                    <li>Аналіз: quantity залежить від обох частин ключа (кількість конкретного товару на конкретному складі). Немає часткових залежностей. ✓ Відповідає 2НФ</li>
                </ul>
            </li>
        </ul>
        
        <div class="success-box">
            <strong>Висновок:</strong> Всі таблиці відповідають Другій нормальній формі (2НФ).
        </div>

        <h3>3.3. Перевірка відповідності Третій нормальній формі (3НФ)</h3>
        <div class="normalization-box">
            <strong>Вимога 3НФ:</strong> Таблиця повинна бути в 2НФ, і всі неключові атрибути повинні залежати тільки від первинного ключа, а не від інших неключових атрибутів (немає транзитивних залежностей).
        </div>
        
        <p><strong>Аналіз транзитивних залежностей:</strong></p>
        
        <ul>
            <li><strong>suppliers:</strong> 
                <ul>
                    <li>supplier_id → company_name, contact_person, phone, email, address</li>
                    <li>Перевірка: Немає транзитивних залежностей. Всі атрибути залежать безпосередньо від ключа. ✓ Відповідає 3НФ</li>
                </ul>
            </li>
            
            <li><strong>customers:</strong>
                <ul>
                    <li>customer_id → full_name, email, phone, delivery_address</li>
                    <li>Перевірка: Немає транзитивних залежностей. Всі атрибути залежать безпосередньо від ключа. ✓ Відповідає 3НФ</li>
                </ul>
            </li>
            
            <li><strong>warehouses:</strong>
                <ul>
                    <li>warehouse_id → warehouse_name, address, area_sqm, responsible_person</li>
                    <li>Перевірка: Немає транзитивних залежностей. Всі атрибути залежать безпосередньо від ключа. ✓ Відповідає 3НФ</li>
                </ul>
            </li>
            
            <li><strong>products:</strong>
                <ul>
                    <li>product_id → product_name, category, purchase_price, selling_price, description, supplier_id</li>
                    <li>Перевірка: Всі атрибути залежать безпосередньо від product_id. supplier_id є зовнішнім ключем, але не створює транзитивної залежності в цій таблиці. ✓ Відповідає 3НФ</li>
                </ul>
            </li>
            
            <li><strong>orders:</strong>
                <ul>
                    <li>order_id → order_date, status, total_amount, customer_id</li>
                    <li>Перевірка: Всі атрибути залежать безпосередньо від order_id. customer_id є зовнішнім ключем. ✓ Відповідає 3НФ</li>
                </ul>
            </li>
            
            <li><strong>order_items:</strong>
                <ul>
                    <li>(order_id, product_id) → quantity, unit_price</li>
                    <li>Перевірка: quantity та unit_price залежать від композитного ключа. Немає транзитивних залежностей. ✓ Відповідає 3НФ</li>
                </ul>
            </li>
            
            <li><strong>warehouse_stock:</strong>
                <ul>
                    <li>(warehouse_id, product_id) → quantity</li>
                    <li>Перевірка: quantity залежить від композитного ключа. Немає транзитивних залежностей. ✓ Відповідає 3НФ</li>
                </ul>
            </li>
        </ul>
        
        <div class="success-box">
            <strong>Висновок:</strong> Всі таблиці відповідають Третій нормальній формі (3НФ). Схема бази даних не потребує додаткових змін для нормалізації.
        </div>

        <h2>4. Ознайомлення з інструментарієм PostgreSQL та pgAdmin 4</h2>
        
        <h3>4.1. Структура таблиць у pgAdmin 4</h3>
        <p>Нижче наведені копії екранів з pgAdmin 4, що відображають структуру таблиць бази даних:</p>
        
        <div class="diagram-placeholder">
            <p><strong>Скріншот 1: Структура таблиці suppliers</strong></p>
            <p>Вкладка "Columns": supplier_id (integer, PK), company_name (varchar(100), NOT NULL), contact_person (varchar(100)), phone (varchar(20), NOT NULL), email (varchar(100), UNIQUE, NOT NULL), address (text)</p>
            <p>Вкладка "Constraints": PRIMARY KEY на supplier_id, UNIQUE на email</p>
        </div>
        
        <div class="diagram-placeholder">
            <p><strong>Скріншот 2: Структура таблиці customers</strong></p>
            <p>Вкладка "Columns": customer_id (integer, PK), full_name (varchar(100), NOT NULL), email (varchar(100), UNIQUE, NOT NULL), phone (varchar(20), NOT NULL), delivery_address (text, NOT NULL)</p>
            <p>Вкладка "Constraints": PRIMARY KEY на customer_id, UNIQUE на email</p>
        </div>
        
        <div class="diagram-placeholder">
            <p><strong>Скріншот 3: Структура таблиці products</strong></p>
            <p>Вкладка "Columns": product_id (integer, PK), product_name (varchar(200), NOT NULL), category (varchar(50), NOT NULL), purchase_price (decimal(10,2), NOT NULL), selling_price (decimal(10,2), NOT NULL), description (text), supplier_id (integer, NOT NULL, FK)</p>
            <p>Вкладка "Constraints": PRIMARY KEY на product_id, FOREIGN KEY на supplier_id → suppliers(supplier_id)</p>
        </div>
        
        <div class="diagram-placeholder">
            <p><strong>Скріншот 4: Структура таблиці orders</strong></p>
            <p>Вкладка "Columns": order_id (integer, PK), order_date (date, NOT NULL, DEFAULT CURRENT_DATE), status (varchar(20), NOT NULL, DEFAULT 'pending'), total_amount (decimal(10,2), NOT NULL), customer_id (integer, NOT NULL, FK)</p>
            <p>Вкладка "Constraints": PRIMARY KEY на order_id, FOREIGN KEY на customer_id → customers(customer_id), CHECK на status</p>
        </div>
        
        <div class="diagram-placeholder">
            <p><strong>Скріншот 5: Структура таблиці order_items</strong></p>
            <p>Вкладка "Columns": order_id (integer, NOT NULL, FK), product_id (integer, NOT NULL, FK), quantity (integer, NOT NULL), unit_price (decimal(10,2), NOT NULL)</p>
            <p>Вкладка "Constraints": PRIMARY KEY на (order_id, product_id), FOREIGN KEY на order_id → orders(order_id), FOREIGN KEY на product_id → products(product_id), CHECK на quantity > 0</p>
        </div>
        
        <div class="diagram-placeholder">
            <p><strong>Скріншот 6: Структура таблиці warehouses</strong></p>
            <p>Вкладка "Columns": warehouse_id (integer, PK), warehouse_name (varchar(100), NOT NULL, UNIQUE), address (text, NOT NULL), area_sqm (decimal(10,2)), responsible_person (varchar(100))</p>
            <p>Вкладка "Constraints": PRIMARY KEY на warehouse_id, UNIQUE на warehouse_name</p>
        </div>
        
        <div class="diagram-placeholder">
            <p><strong>Скріншот 7: Структура таблиці warehouse_stock</strong></p>
            <p>Вкладка "Columns": warehouse_id (integer, NOT NULL, FK), product_id (integer, NOT NULL, FK), quantity (integer, NOT NULL, DEFAULT 0)</p>
            <p>Вкладка "Constraints": PRIMARY KEY на (warehouse_id, product_id), FOREIGN KEY на warehouse_id → warehouses(warehouse_id), FOREIGN KEY на product_id → products(product_id), CHECK на quantity >= 0</p>
        </div>

        <h3>4.2. Вміст таблиць бази даних</h3>
        <p>Нижче наведені копії екранів з pgAdmin 4, що відображають вміст таблиць з тестовими даними:</p>
        
        <div class="diagram-placeholder">
            <p><strong>Скріншот 8: Вміст таблиці suppliers</strong></p>
            <p>Таблиця містить 3 рядки з даними про постачальників</p>
        </div>
        
        <div class="diagram-placeholder">
            <p><strong>Скріншот 9: Вміст таблиці customers</strong></p>
            <p>Таблиця містить 4 рядки з даними про клієнтів</p>
        </div>
        
        <div class="diagram-placeholder">
            <p><strong>Скріншот 10: Вміст таблиці warehouses</strong></p>
            <p>Таблиця містить 2 рядки з даними про склади</p>
        </div>
        
        <div class="diagram-placeholder">
            <p><strong>Скріншот 11: Вміст таблиці products</strong></p>
            <p>Таблиця містить 5 рядків з даними про товари</p>
        </div>
        
        <div class="diagram-placeholder">
            <p><strong>Скріншот 12: Вміст таблиці orders</strong></p>
            <p>Таблиця містить 3 рядки з даними про замовлення</p>
        </div>
        
        <div class="diagram-placeholder">
            <p><strong>Скріншот 13: Вміст таблиці order_items</strong></p>
            <p>Таблиця містить 6 рядків з даними про позиції замовлень</p>
        </div>
        
        <div class="diagram-placeholder">
            <p><strong>Скріншот 14: Вміст таблиці warehouse_stock</strong></p>
            <p>Таблиця містить 8 рядків з даними про наявність товарів на складах</p>
        </div>

        <h3>4.3. SQL-скрипт для вставки тестових даних</h3>
        <div class="code-block">
-- Вставка даних у таблицю suppliers
INSERT INTO suppliers (company_name, contact_person, phone, email, address) VALUES
('TechSupply Co.', 'Іван Петренко', '+380501234567', 'info@techsupply.com', 'вул. Хрещатик, 1, Київ'),
('ElectroWorld Ltd.', 'Марія Коваленко', '+380502345678', 'sales@electroworld.com', 'просп. Перемоги, 25, Львів'),
('Digital Solutions', 'Олександр Сидоренко', '+380503456789', 'contact@digitalsolutions.com', 'вул. Соборна, 10, Одеса');

-- Вставка даних у таблицю customers
INSERT INTO customers (full_name, email, phone, delivery_address) VALUES
('Петро Іваненко', 'petro.ivanenko@email.com', '+380671111111', 'вул. Шевченка, 15, кв. 23, Київ'),
('Олена Мельник', 'olena.melnyk@email.com', '+380672222222', 'просп. Грушевського, 42, Львів'),
('Василь Коваль', 'vasyl.koval@email.com', '+380673333333', 'вул. Дерибасівська, 8, Одеса'),
('Наталія Шевченко', 'natalia.shevchenko@email.com', '+380674444444', 'вул. Незалежності, 100, Харків');

-- Вставка даних у таблицю warehouses
INSERT INTO warehouses (warehouse_name, address, area_sqm, responsible_person) VALUES
('Склад №1 (Київ)', 'вул. Промислова, 50, Київ', 500.00, 'Сергій Лисенко'),
('Склад №2 (Львів)', 'вул. Складська, 12, Львів', 350.00, 'Тетяна Марченко');

-- Вставка даних у таблицю products
INSERT INTO products (product_name, category, purchase_price, selling_price, description, supplier_id) VALUES
('Ноутбук Dell XPS 15', 'Ноутбуки', 35000.00, 45000.00, '15.6", Intel i7, 16GB RAM, 512GB SSD', 1),
('Смартфон Samsung Galaxy S23', 'Смартфони', 25000.00, 32000.00, '6.1", 128GB, 5G', 2),
('Планшет iPad Pro 12.9"', 'Планшети', 40000.00, 52000.00, '12.9", M2, 256GB, Wi-Fi', 3),
('Ноутбук MacBook Pro 14"', 'Ноутбуки', 55000.00, 70000.00, '14", M2 Pro, 16GB RAM, 512GB SSD', 1),
('Смартфон iPhone 15 Pro', 'Смартфони', 38000.00, 48000.00, '6.1", 256GB, Titanium', 2);

-- Вставка даних у таблицю orders
INSERT INTO orders (order_date, status, total_amount, customer_id) VALUES
('2024-01-15', 'delivered', 77000.00, 1),
('2024-01-20', 'shipped', 48000.00, 2),
('2024-01-25', 'processing', 122000.00, 3);

-- Вставка даних у таблицю order_items
INSERT INTO order_items (order_id, product_id, quantity, unit_price) VALUES
(1, 1, 1, 45000.00),  -- Ноутбук Dell XPS 15
(1, 3, 1, 32000.00),  -- Смартфон Samsung Galaxy S23
(2, 2, 1, 48000.00),  -- Смартфон iPhone 15 Pro
(3, 4, 1, 70000.00),  -- Ноутбук MacBook Pro 14"
(3, 5, 1, 48000.00),  -- Смартфон iPhone 15 Pro
(3, 3, 1, 52000.00);  -- Планшет iPad Pro 12.9"

-- Вставка даних у таблицю warehouse_stock
INSERT INTO warehouse_stock (warehouse_id, product_id, quantity) VALUES
(1, 1, 5),   -- Ноутбук Dell XPS 15 на складі №1
(1, 2, 10),  -- Смартфон Samsung Galaxy S23 на складі №1
(1, 3, 3),   -- Планшет iPad Pro на складі №1
(1, 4, 2),   -- Ноутбук MacBook Pro на складі №1
(2, 2, 8),   -- Смартфон Samsung Galaxy S23 на складі №2
(2, 3, 5),   -- Планшет iPad Pro на складі №2
(2, 5, 12),  -- Смартфон iPhone 15 Pro на складі №2
(1, 5, 4);   -- Смартфон iPhone 15 Pro на складі №1
        </div>

        <div class="info-box" style="margin-top: 40px;">
            <h3>Висновки</h3>
            <p>В ході виконання лабораторної роботи було:</p>
            <ul>
                <li>Розроблено ER-модель предметної галузі "Система управління складом та логістикою для інтернет-магазину електроніки" з 5 сутностями та зв'язками типу 1:N та N:M</li>
                <li>Перетворено ER-модель у схему бази даних PostgreSQL з 7 таблицями</li>
                <li>Перевірено відповідність схеми нормальним формам 1НФ, 2НФ та 3НФ - всі таблиці відповідають вимогам</li>
                <li>Ознайомленося з інструментарієм pgAdmin 4 та внесено тестові дані у всі таблиці</li>
            </ul>
            <p>Створена база даних готова до використання та може бути розширена додатковими функціями та обмеженнями за потреби.</p>
        </div>
    </div>
</body>
</html>
